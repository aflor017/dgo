<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dynamic Estimation of Group-Level Opinion • dgo</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">dgo</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/policy_liberalism.html">Policy Liberalism</a>
</li>
<li>
  <a href="articles/abortion_attitudes.html">Abortion Attitudes</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/jamesdunham/dgo">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">

<section id="introduction" class="level1"><div class="page-header"><h1>Introduction</h1></div>
<p>dgo is an R package for the dynamic estimation of group-level public opinion. You can use the package to estimate latent trait means in subpopulations from survey data. For example, dgo can estimate the average policy liberalism in each American state over time among Democrats, Independents, and Republicans, given their answers to survey questions about policy proposals.</p>
<p>dgo accomplishes this using a Bayesian group-level IRT approach developed by <a href="http://pan.oxfordjournals.org/content/early/2015/02/04/pan.mpu021.full.pdf+html">Caughey and Warshaw 2015</a>. It models latent traits at the level of demographic and geographic groups rather than individuals. It uses a hierarchical model to borrow strength cross-sectionally and dynamic linear models to do so across time.</p>
<p>The package can also be used to estimate smoothed estimates of subpopulations’ average responses to single survey items, using a dynamic multi-level regression and poststratification (MRP) model (<a href="http://stat.columbia.edu/~gelman/research/published/StateOpinionsNationalPolls.050712.dkp.pdf">Park, Gelman, and Bafumi 2004</a>). For instance, you can use dgo to estimate public opinion in each state on same-sex marriage or the Affordable Care Act.</p>
<p>This model opens up new areas of research on historical public opinion in the United States at the subnational level. It also allows scholars of comparative politics to estimate dynamic cross-national models of public opinion.</p>
</section><section id="installation" class="level1"><h1>Installation</h1>
<p>dgo can be installed from <a href="https://CRAN.R-project.org/package=dgo">CRAN</a>:</p>
<pre class="sourceCode r" id="cb1"><code class="sourceCode r"><div class="sourceLine" id="cb1-1" data-line-number="1">
<span class="kw">install.packages</span>(<span class="st">"dgo"</span>)</div></code></pre>
<p>Or get the latest version from <a href="https://github.com/jamesdunham/dgo">GitHub</a> using <a href="https://github.com/hadley/devtools/">devtools</a>:</p>
<pre class="sourceCode r" id="cb2"><code class="sourceCode r"><div class="sourceLine" id="cb2-1" data-line-number="1">
<span class="cf">if</span> (<span class="op">!</span><span class="kw">require</span>(devtools, <span class="dt">quietly =</span> <span class="ot">TRUE</span>)) <span class="kw">install.packages</span>(<span class="st">"devtools"</span>)</div>
<div class="sourceLine" id="cb2-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"jamesdunham/dgo"</span>)</div></code></pre>
<p>dgo requires a working installation of <a href="http://mc-stan.org/interfaces/rstan.html">RStan</a>. If you don’t have already have RStan, follow its “<a href="https://github.com/stan-dev/rstan/wiki/RStan-Getting-Started">Getting Started</a>” guide.</p>
</section><section id="usage" class="level1"><h1>Usage</h1>
<p>Load the package and set RStan’s recommended options for a local, multicore machine with excess RAM:</p>
<pre class="sourceCode r" id="cb3"><code class="sourceCode r"><div class="sourceLine" id="cb3-1" data-line-number="1">
<span class="kw">library</span>(dgo)</div>
<div class="sourceLine" id="cb3-2" data-line-number="2">
<span class="kw">rstan_options</span>(<span class="dt">auto_write =</span> <span class="ot">TRUE</span>)</div>
<div class="sourceLine" id="cb3-3" data-line-number="3">
<span class="kw">options</span>(<span class="dt">mc.cores =</span> parallel<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/parallel/topics/detectCores">detectCores</a></span>())</div></code></pre>
<p>The minimal workflow from raw data to estimation is:</p>
<ol type="1">
<li>shape input data using the <code><a href="reference/shape.html">shape()</a></code> function; and</li>
<li>pass the result to the <code><a href="reference/dgirt.html">dgirt()</a></code> function to estimate a latent trait (e.g., conservatism) or <code><a href="http://www.rdocumentation.org/packages/dgo/topics/dgirt">dgmrp()</a></code> function to estimate opinion on a single survey question.</li>
</ol></section><section id="troubleshooting" class="level1"><h1>Troubleshooting</h1>
<p>Please <a href="https://github.com/jamesdunham/dgo/issues">report issues</a> that you encounter.</p>
<ul>
<li><p>OS X only: RStan creates temporary files during estimation in a location given by <code>tempdir()</code>, typically an arbitrary location in <code>/var/folders</code>. If a model runs for days, these files can be cleaned up while still needed, which induces an error. A good solution is to set a safer path for temporary files, using an environment variable checked at session startup. For help setting environment variables, see the Stack Overflow question <a href="https://stackoverflow.com/questions/17107206/change-temporary-directory">here</a>. Confirm the new path before starting your model run by restarting R and checking the output from <code>tempdir()</code>.</p></li>
<li><p>Models fitted before October 2016 (specifically &lt; <a href="https://github.com/jamesdunham/dgo/commit/8e6a2cfbe00b2cd4a908b3067241e06124d143cd">#8e6a2cf</a>) using dgirt are not fully compatible with dgo. Their contents can be extracted without using dgo, however, with the <code>$</code> indexing operator. For example: <code>as.data.frame(dgirtfit_object$stan.cmb)</code>.</p></li>
<li><p>Calling <code><a href="reference/dgirt.html">dgirt()</a></code> or <code><a href="http://www.rdocumentation.org/packages/dgo/topics/dgirt">dgmrp()</a></code> can generate <a href="http://mc-stan.org/misc/warnings#compiler-warnings">warnings</a> during model compilation. These are safe to ignore, or can be suppressed by following the linked instructions.</p></li>
</ul></section><section id="contributing-and-citing" class="level1"><h1>Contributing and citing</h1>
<p>dgo is under development and we welcome <a href="https://github.com/jamesdunham/dgo/issues">suggestions</a>.</p>
<p>The package citation is:</p>
<p>Dunham, James, Devin Caughey, and Christopher Warshaw. 2017. dgo: Dynamic Estimation of Group-level Opinion. R package. <a href="https://jdunham.io/dgo/" class="uri">https://jdunham.io/dgo/</a>.</p>
</section>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cran.r-project.org/package=dgo">https://​cran.r-project.org/​package=dgo</a>
</li>
<li>Report a bug at <br><a href="https://github.com/jamesdunham/dgo/issues">https://​github.com/​jamesdunham/​dgo/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://jdunham.io">James Dunham</a> <br><small class="roles"> Author, maintainer </small> </li>
<li>
<a href="http://caughey.mit.edu/welcome">Devin Caughey</a> <br><small class="roles"> Author </small> </li>
<li>
<a href="http://cwarshaw.scripts.mit.edu/">Christopher Warshaw</a> <br><small class="roles"> Author </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/jamesdunham/dgo"><img src="https://travis-ci.org/jamesdunham/dgo.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/jamesdunham/dgo"><img src="https://ci.appveyor.com/api/projects/status/1ta36kmoqen98k87?svg=true" alt="Build status"></a></li>
<li><a href="https://codecov.io/gh/jamesdunham/dgo"><img src="https://codecov.io/gh/jamesdunham/dgo/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://jdunham.io">James Dunham</a>, <a href="http://caughey.mit.edu/welcome">Devin Caughey</a>, <a href="http://cwarshaw.scripts.mit.edu/">Christopher Warshaw</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
